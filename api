Hi all,
Here’s a summary of our discussion and proposed next steps:
Summary of challenge:
Aqua’s “Root User” check does not differentiate between USER root explicitly set and no USER specified.
At JPMC, images cannot run as root due to OpenShift/EKS platform controls, so the current Aqua output risks creating unnecessary noise.
At the same time, we want to start promoting best practice of explicitly setting a non-root USER in Dockerfiles.
Proposed next step:
Customise Message in VSaaS – Build a mapping layer in VSaaS that translates Aqua findings into JPMC-specific developer messages. Example for the USER rule:
Case A – USER root set → Update Dockerfile to use non-root.
Case B – No USER set → Low severity/Info; best practice is to set USER explicitly.
Case C – USER non-root set → Pass; compliant.
Scope Phase 1 – Apply initially to internally built app images only. Exempt platform, operator, and 3rd-party vendor images (which may legitimately require root for package installs).
Production Rollout – Enable and deploy VSaaS with this policy applied only to internal app images.
Benefit:
This approach reduces developer noise while still giving clear and actionable guidance.
I’ll book a slot early next week to finalise the approach with everyone.
Thanks,
Noor
